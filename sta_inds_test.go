package banta

import (
	"math"
	"testing"
)

func TestCommon(t *testing.T) {
	sumArr := []float64{math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), 274199.19999999995, 274022.49999999994, 274018.19999999995, 273238.1, 273923.69999999995, 273728.6, 274130.6, 274019.5, 273876.3, 273574.1, 273072.69999999995, 272255.29999999993, 271777.79999999993, 270119.5999999999, 269897.0999999999, 268784.49999999994, 267783.99999999994, 266993.89999999997, 266357.99999999994, 265762.39999999997, 265310.49999999994, 264690.19999999995, 264127.49999999994, 263757.89999999997, 263764.19999999995, 263728.1, 263493.19999999995, 263341.19999999995, 263117.19999999995, 262980.79999999993, 263468.69999999995, 263820.69999999995, 263563.19999999995, 263808.6, 264049.1, 264241.3, 264603.1, 264716, 264227.7, 261078.40000000002, 257547.7, 254192.30000000002, 250952.7, 247647.40000000002, 244398.50000000003, 241398.20000000004, 238374.00000000003, 235711.30000000002, 235105.90000000002, 235151.50000000003}
	smaArr := []float64{math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), 30466.577777777773, 30446.944444444438, 30446.46666666666, 30359.788888888885, 30435.96666666666, 30414.288888888885, 30458.955555555553, 30446.61111111111, 30430.699999999997, 30397.12222222222, 30341.411111111105, 30250.58888888888, 30197.533333333326, 30013.28888888888, 29988.56666666666, 29864.944444444438, 29753.77777777777, 29665.988888888885, 29595.33333333333, 29529.155555555553, 29478.944444444438, 29410.02222222222, 29347.499999999993, 29306.43333333333, 29307.133333333328, 29303.12222222222, 29277.02222222222, 29260.133333333328, 29235.24444444444, 29220.08888888888, 29274.299999999996, 29313.411111111105, 29284.799999999996, 29312.066666666666, 29338.788888888885, 29360.144444444442, 29400.344444444443, 29412.88888888889, 29358.633333333335, 29008.711111111115, 28616.411111111112, 28243.58888888889, 27883.633333333335, 27516.37777777778, 27155.38888888889, 26822.022222222226, 26486.000000000004, 26190.144444444446, 26122.87777777778, 26127.94444444445}
	vwmaArr := []float64{math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), 30524.599643405712, 30514.947778072055, 30518.73472309875, 30456.35125607252, 30561.6906998281, 30571.491940019365, 30596.344888113847, 30625.932222795036, 30578.763946722098, 30520.68031661973, 30475.612235503984, 30396.577778674644, 30344.774942173266, 30089.91299329545, 29964.10592800004, 29848.88716224751, 29774.985707611893, 29690.46221220152, 29634.867703120217, 29567.390982826124, 29492.60358258962, 29428.407632842318, 29387.756345074333, 29312.21865963103, 29316.914650750692, 29312.63520407313, 29281.90217571912, 29273.797795962546, 29259.965305452115, 29230.72511109319, 29315.838091154554, 29369.12733541649, 29387.74815897663, 29390.76956763887, 29416.513237722298, 29455.91685299767, 29462.82320005344, 29461.46986192912, 29443.68254303843, 28445.962714246307, 27837.615204021622, 27557.626796029796, 27356.826089102113, 27209.127081137973, 27007.291985516127, 26698.107930434846, 26503.991087758564, 26258.531212277307, 26111.93120533944, 26099.481219512756}
	emaArr := []float64{math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), 30464.45, 30614.796153846157, 30565.335207100594, 30520.883636777427, 30474.10153881167, 30420.562840532948, 30332.107018912495, 30264.93670831057, 30192.023368570484, 30145.77361955964, 30090.039216550467, 30087.079337081163, 29945.036362145598, 29832.92307566166, 29756.473371713713, 29672.354391450062, 29615.05371584236, 29572.59929802046, 29526.214790632697, 29479.227899766127, 29513.377453648263, 29460.565537702376, 29417.432378055855, 29368.765858354956, 29320.909572454195, 29283.215792076626, 29270.82874714176, 29345.932016812258, 29380.83478345653, 29390.506355232446, 29394.35153135053, 29398.405141911986, 29382.235120079375, 29387.968178528703, 29357.32692029352, 29258.41508640221, 28850.920457724944, 28418.79423345957, 28060.256659081173, 27770.355634607145, 27515.747075436815, 27289.385986908077, 27155.51121969145, 27003.063339738917, 26856.699749009855, 26725.561326085262, 26627.428814379837}
	ema2Arr := []float64{30573.6, 30579.615384615383, 30667.213017751477, 30680.887938097403, 30651.27440915934, 30531.755269288675, 30500.392920167338, 30464.840163218516, 30416.06475349259, 30413.116329878343, 30443.15997143552, 30431.735360445444, 30587.11453576153, 30541.912299490526, 30501.06425341506, 30457.331291351205, 30406.372631143327, 30320.09991865974, 30254.776854250547, 30183.42656898123, 30138.49940452258, 30083.884111519103, 30081.871171285395, 29940.629452626104, 29829.194152222088, 29753.318128803305, 29669.68457052587, 29612.794636598814, 29570.687769429765, 29524.597343363646, 29477.85929053847, 29512.219399686397, 29459.585645888492, 29416.603238828724, 29368.06427900892, 29320.315928392163, 29282.713477870293, 29270.403712044095, 29345.572371729617, 29380.5304683866, 29390.248857865587, 29394.13364896319, 29398.22077989193, 29382.07912144702, 29387.83617968594, 29357.215228965026, 29258.320578355022, 28850.840489377326, 28418.72656793466, 28060.19940363702, 27770.307187692862, 27515.70608189396, 27289.351300064118, 27155.481869285024, 27003.038504779634, 26856.678734813537, 26725.543544842225, 26627.413768712653}
	rmaArr := []float64{math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), 30464.45, 30545.8875, 30524.838541666664, 30504.135329861107, 30480.190719039347, 30450.6831591194, 30400.259562526116, 30358.19626564894, 30310.929910178194, 30275.969084330012, 30234.929993969177, 30221.252494471744, 30133.131453265763, 30056.728832160283, 29996.668096146925, 29931.08742146801, 29878.48846967901, 29833.53943053909, 29786.669477994168, 29739.513688161318, 29736.32088081454, 29689.135807413328, 29646.724490128883, 29601.255782618144, 29555.959467399964, 29515.954511783297, 29489.849969134688, 29512.279138373466, 29517.322543509006, 29511.18733154992, 29503.213387254094, 29496.337271649583, 29479.417499012117, 29474.42437409444, 29450.6223429199, 29389.27048100991, 29157.639607592413, 28898.01130695971, 28663.868698046397, 28456.537973209197, 28261.44314210843, 28076.68954693273, 27938.565418021666, 27790.734966519856, 27645.815385976533, 27509.022437145155, 27390.57890071639}
	ram2Arr := []float64{30573.6, 30576.858333333334, 30624.536805555555, 30635.500405092593, 30623.242038001543, 30560.838534834747, 30541.426990265183, 30518.749741076415, 30487.83726265338, 30480.25915743226, 30490.93756097957, 30480.76776423127, 30560.84545054533, 30538.54999633322, 30516.70416330545, 30491.71214969666, 30461.24447055527, 30409.940764675666, 30367.070700952696, 30319.064809206637, 30283.426075106083, 30241.76556884724, 30227.518438109968, 30138.875234934134, 30061.993965356287, 30001.49446824326, 29935.511595889657, 29882.54396289885, 29837.25696599061, 29790.07721882473, 29742.637450589333, 29739.184329706884, 29691.760635564642, 29649.130582600923, 29603.461367384178, 29557.981253435493, 29517.807815649205, 29491.548831011773, 29513.836428427458, 29518.750059391838, 29512.49588777585, 29504.412897127862, 29497.436822367206, 29480.42542050327, 29475.348302127997, 29451.469276950666, 29390.046837204776, 29158.35126743771, 28898.663661817896, 28664.46668999974, 28457.08613249976, 28261.94562145811, 28077.15015300327, 27938.987640252995, 27791.122003565244, 27646.170169934805, 27509.34765577357, 27390.877017792438}
	atrArr := []float64{math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), 868.7357142857145, 834.6545918367348, 825.014978134111, 825.1924796959602, 797.214445431963, 808.2134136153943, 775.5053126428661, 747.5263617398043, 740.510193044104, 777.7380363980966, 746.9353195125183, 735.5470824044812, 718.2151479470183, 697.1212088079457, 658.7839796073782, 642.9065524925655, 627.3989416002395, 667.2275886287938, 701.9684751553086, 686.442155501358, 676.2534301084038, 641.163899386375, 611.1164780016339, 609.7653010015173, 646.0392080728374, 656.1578360676348, 639.7251334913751, 618.6804810991339, 582.3461610206243, 555.4928638048656, 559.8648021045182, 551.453030525624, 551.5135283452224, 811.7554191777066, 840.7728892364419, 815.431968576696, 781.2225422497893, 759.7066463748044, 766.0276002051755, 783.168485904806, 779.6064511973198, 762.8917046832254, 719.856582920138, 684.0096841401281}
	macdArr := []float64{math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), -432.8189359786011, -444.3755230798597, -441.170279092752, -430.50440099353364, -422.66641215803975, -415.7213620771472, -367.2200110214326, -367.40248513993356, -362.5528282796149, -360.93155491862854, -359.010254650977, -351.9618256133472, -332.31349146006687, -268.75524115240114, -230.74971465889394, -208.64225413368695, -191.19347732181632, -174.9291253772244, -170.35586815137867, -154.76421798125375, -159.18826166014333, -198.68415614747937, -395.26032241365465, -590.0472296317275, -732.248399336695, -828.3268268908796, -898.9885370613556, -949.7692098494881, -948.8324810100021, -957.5956423920543, -962.55486407438, -959.2522045482874, -939.0800102808571}
	rsiArr := []float64{math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), 47.259212807554704, 46.70629211781631, 45.8275752808261, 43.125379869273104, 43.760684849102844, 42.68535167846982, 44.10644555140259, 42.876051193200524, 47.10701411799357, 37.63104526409479, 38.403425773341404, 40.22115784448889, 38.91619668986348, 40.40333995062702, 41.07475694985178, 40.228100031133394, 39.578221058849, 48.1873373099479, 41.19850655078743, 41.372647790121036, 40.36443558254441, 39.79147258385859, 40.17498273779458, 42.90370502456327, 53.026566637768326, 49.84133970135824, 47.70183518334326, 47.224962254061744, 47.32952422046857, 44.978274547034694, 47.7474393187741, 43.4430835586769, 36.21354076590418, 20.173578633140377, 17.874268771834664, 18.686651486974352, 20.29657492693332, 20.002028758934504, 19.641782747405784, 27.105353979353485, 25.380843118505094, 24.632435113606412, 24.30835157555169, 26.14944480511085}
	kdjKArr := []float64{math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), 41.59251412429377, 40.38547551789079, 43.31489328311366, 41.03937800795151, 54.42102927104603, 45.70157711771732, 39.62900840105888, 32.16576641959718, 28.892793228680386, 25.324447186467175, 23.624461389617572, 21.06936881756818, 20.731960164093092, 19.5281520141573, 34.485741895766935, 29.8946064528907, 28.028270130019365, 29.293479877035974, 27.489154299575365, 28.177255906215894, 29.81721277464621, 29.436933511013187, 28.09339536542298, 43.619202886368996, 42.76911691199349, 42.42536575288385, 40.44994580227355, 38.17487832167819, 37.05995928114531, 39.11598230284624, 49.78320388817201, 53.243704552898976, 51.68512497186102, 50.04646740166552, 49.06459439331127, 45.701160779228196, 46.14220822589189, 41.530964613013, 27.88796997891727, 30.7354485393475, 29.949461031618032, 29.8069429838719, 30.283840778313756, 30.206789256691753, 29.69188735568628, 32.27109038606571, 32.801945525247, 33.55437654991516, 38.06746039608561, 43.021382509579155}
	smaKdjKArr := []float64{math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), 37.30755649717518, 41.21115819209047, 55.61546935614055, 48.64511735530738, 45.64362519201231, 24.32860874515855, 22.35666675708752, 19.25796146852044, 20.253030581601966, 18.123809523809502, 18.74693877551022, 17.712287414966003, 33.859533410138276, 34.077930980136706, 36.469618236800365, 25.610610807494698, 26.66666666666667, 28.419287211740095, 28.843696258552644, 30.442320204916978, 29.05994018983218, 42.91783732875024, 47.048693988582016, 52.49254210872268, 39.76863809965331, 37.28723756540164, 34.98465682053997, 37.227630968938364, 49.72526553505039, 58.170127095808176, 59.950106250320516, 51.833941317804175, 47.47932214922079, 44.28143139631311, 44.3664816822947, 39.43569135251218, 26.64492040573343, 23.11362125272966, 21.80329079569762, 31.4432661882489, 29.712343090578738, 30.270743156341624, 29.984135378106856, 32.04808873798256, 33.31841193470317, 35.45079694989522, 38.67217416376253, 45.02736447474808}
	aroonUpArr := []float64{math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), 55.55555555555556, 44.44444444444444, 33.33333333333334, 100, 88.88888888888889, 77.77777777777777, 66.66666666666667, 55.55555555555556, 44.44444444444444, 33.33333333333334, 22.22222222222223, 11.111111111111114, 0, 0, 11.111111111111114, 0, 33.33333333333334, 22.22222222222223, 11.111111111111114, 0, 22.22222222222223, 11.111111111111114, 0, 0, 88.88888888888889, 77.77777777777777, 66.66666666666667, 55.55555555555556, 44.44444444444444, 100, 88.88888888888889, 77.77777777777777, 66.66666666666667, 55.55555555555556, 44.44444444444444, 33.33333333333334, 22.22222222222223, 11.111111111111114, 0, 0, 0, 33.33333333333334, 22.22222222222223, 11.111111111111114, 0, 0, 0, 0, 0}
	aroonDnArr := []float64{math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), 66.66666666666667, 55.55555555555556, 44.44444444444444, 33.33333333333334, 22.22222222222223, 11.111111111111114, 0, 100, 100, 88.88888888888889, 77.77777777777777, 66.66666666666667, 55.55555555555556, 44.44444444444444, 100, 88.88888888888889, 77.77777777777777, 66.66666666666667, 55.55555555555556, 44.44444444444444, 33.33333333333334, 22.22222222222223, 100, 88.88888888888889, 77.77777777777777, 66.66666666666667, 55.55555555555556, 44.44444444444444, 33.33333333333334, 22.22222222222223, 11.111111111111114, 0, 55.55555555555556, 44.44444444444444, 33.33333333333334, 22.22222222222223, 11.111111111111114, 0, 100, 88.88888888888889, 77.77777777777777, 66.66666666666667, 55.55555555555556, 44.44444444444444, 33.33333333333334, 22.22222222222223, 11.111111111111114, 0, 44.44444444444444}
	aroonOscArr := []float64{math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), -11.111111111111114, -11.111111111111114, -11.1111111111111, 66.66666666666666, 66.66666666666666, 66.66666666666666, 66.66666666666667, -44.44444444444444, -55.55555555555556, -55.55555555555554, -55.55555555555554, -55.55555555555556, -55.55555555555556, -44.44444444444444, -88.88888888888889, -88.88888888888889, -44.44444444444443, -44.44444444444444, -44.44444444444444, -44.44444444444444, -11.111111111111114, -11.111111111111114, -100, -88.88888888888889, 11.111111111111114, 11.1111111111111, 11.111111111111114, 11.111111111111114, 11.1111111111111, 77.77777777777777, 77.77777777777777, 77.77777777777777, 11.111111111111114, 11.111111111111114, 11.1111111111111, 11.111111111111114, 11.111111111111114, 11.111111111111114, -100, -88.88888888888889, -77.77777777777777, -33.33333333333333, -33.33333333333333, -33.33333333333333, -33.33333333333334, -22.22222222222223, -11.111111111111114, 0, -44.44444444444444}
	stdDevArr := []float64{math.NaN(), math.NaN(), math.NaN(), math.NaN(), 233.17264505082903, 415.2175689924494, 425.6949640294085, 288.8038046840789, 205.30537840007997, 183.63963188810848, 152.87635003492284, 152.56708163952098, 448.86692281788834, 423.05229747632865, 438.33616597310333, 463.68621027587204, 488.933224888635, 163.82381511856025, 172.09438573062218, 166.26428359692866, 114.51091476361499, 47.61726577618697, 103.73112551206582, 306.2189543447632, 367.30637130330354, 353.7246918155418, 340.5338596968, 63.17931940120955, 56.61165957645099, 47.7983095935407, 48.39232997077091, 171.7789439948918, 188.83169861016526, 199.45858116411088, 216.7098650269532, 233.95417158067556, 49.54262810953771, 57.592860668662794, 264.65260550389434, 282.08038145181183, 246.59005170525373, 183.7488133295012, 131.5172171238425, 88.94937886236193, 53.54047440955347, 93.04789304438916, 261.2497088993589, 1045.2869397442978, 1393.1812157791967, 1348.408633315584, 1014.3225057150221, 206.3027716730926, 49.69665582310407, 132.3311089653525, 126.45558904216117, 137.3191843844113, 150.90302316388502, 146.52864566357005}
	bbandArr := []float64{math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), 31263.256691056144, 31242.777598521177, 31205.486141764297, 30833.007099192728, 30746.516593224074, 30708.154765111783, 31313.230805589723, 31313.081261981184, 31312.934634961857, 31306.657573165143, 31312.401629807322, 31299.272592140278, 31288.23568020823, 30460.311890696124, 30368.071890628315, 30248.355757754664, 30162.4121803554, 30308.895132806025, 30341.24180079079, 30276.6632678924, 30225.46395668496, 30083.96589084472, 29957.000106174273, 29387.41393998648, 29374.516566659328, 29649.546059392003, 29647.938730385828, 29649.709879675615, 29652.501521230002, 29639.554673341812, 29627.052547454638, 29624.523165934126, 29672.070835934217, 29787.92317915481, 29829.875710057087, 29845.90192776787, 29829.774424394553, 29780.41417653337, 29751.421272738306, 29618.36568217993, 29756.185385462722, 30765.85969034254, 31042.03379466916, 30833.067811824923, 30357.57170262833, 29508.270881203483, 28353.049846552334, 26616.398633132758, 26390.402529209216, 26389.394375410448, 26396.594795225377, 26384.240986614222}
	tdArr := []float64{math.NaN(), math.NaN(), math.NaN(), math.NaN(), -1, -2, -3, -4, -5, 1, 2, 3, 4, -1, -2, -3, -4, -5, -6, -7, -8, -9, 1, -1, -2, -3, -4, 1, 2, -1, 1, 2, -1, -2, -3, -4, -5, 1, 2, 3, 4, 5, -1, -2, -3, -4, -5, -6, -7, -8, -9, -10, 1, 2, -1, -2, -3, -4}
	adxArr := []float64{math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), 39.46786350152253, 35.346051051826564, 32.5600220908187, 30.08355190325615, 28.434909596737427, 25.9746555642526, 26.267965732492218, 26.528685882038545, 25.048852433268593, 23.810957121552473, 22.710605733360367, 21.732515610522942, 22.120900263039747, 21.762940879115508, 23.9042170684021, 23.40160916479747, 22.954846583815577, 23.40820268143655, 23.811185879321858, 23.665845170100418, 25.090237768897975, 24.324403789794502, 23.643662475035857, 22.65226837768483, 21.192931807784763, 19.895743745651366, 17.936953642290565, 17.702953922552396, 17.31776658092724, 16.487349111279396, 23.154864268061885, 29.0815444074241, 34.349704531301626, 38.95474050695283, 43.15767578902085, 47.25040936955163, 47.51641569564946, 47.752865763291965, 48.101506637486, 48.411409636769584, 48.40377555464304}
	adxByArr := []float64{math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), 38.71201944784718, 33.99157648502356, 29.902079811261828, 25.350341473460148, 19.67771860657121, 15.44608070007865, 13.525881016608766, 12.70656730514597, 12.60560365024865, 13.709937433943585, 14.814271217638517, 15.287658712271558, 17.012400137997094, 17.50189161468327, 21.231388616099473, 20.271078530554632, 19.310768445009792, 20.873956214173468, 22.360180639269238, 23.34749843407242, 25.88700006889198, 25.185634463953267, 25.175487517756746, 22.324309890376924, 21.27483035954913, 20.22535082872134, 17.523185831432343, 16.323526324945902, 15.445939098552978, 12.516055107470525, 18.983795982206736, 25.45153685694295, 32.30452741129211, 39.65647423809599, 47.118166530028965, 55.741258864607616, 59.491751332051145, 63.419078149693746, 67.98500815788157, 65.14282660891648, 62.01767679500509}
	rocArr := []float64{math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), -0.5779496035795494, -0.014046457842657695, -2.5044142669106506, 2.229151290313148, -0.6399155088492744, 1.3456337198403985, -0.36632935349959006, -0.4730865926863215, -1.0023948679505659, -1.649510311906811, -2.6705087492322415, -1.5723322214502333, -5.273887862297524, -0.7344858434043171, -3.6748094225205183, -3.311071986444627, -2.6226428246603395, -2.1306323210121354, -1.9922730845779415, -1.5169010775066345, -2.075178813973259, -1.8893011231050774, -1.229099325591599, 0.02160212318010435, -0.12356116277556894, -0.8007226615762253, -0.5203750808806663, -0.7645077286953197, -0.46490860319504623, 1.666831789717508, 1.2046213656025846, -0.8669683379796101, 0.8412723987919186, 0.8241890048731673, 0.6604561339605745, 1.2451088695939434, 0.38829408547971966, -1.6721056614628076, -10.582680869652876, -11.939011524103233, -11.395986238142628, -11.013241318352565, -11.234606926415752, -11.090932056135697, -10.198337837148827, -10.360823329496247, -9.273047669462015, -2.2751102041736715, 0.17510108631793206}
	heiKenArr := []float64{30516.9, 30510.1125, 30522.08125, 30725.578125, 30840.8515625, 30707.36328125, 30572.281640625, 30326.865820312498, 30288.94541015625, 30257.272705078125, 30317.823852539062, 30417.861926269532, 30476.893463134766, 30725.14673156738, 30769.01086578369, 30530.742932891844, 30388.48396644592, 30232.079483222962, 30065.927241611484, 29991.051120805743, 29942.43806040287, 29901.781530201435, 29858.79076510072, 29922.07038255036, 29730.585191275182, 29464.367595637592, 29395.396297818796, 29343.898148909397, 29316.7240744547, 29317.67453722735, 29291.174768613677, 29285.31238430684, 29293.53119215342, 29376.453096076708, 29281.451548038356, 29188.850774019178, 29127.40038700959, 29102.587693504796, 29080.718846752396, 29333.3719233762, 29522.1109616881, 29517.317980844047, 29464.196490422022, 29440.373245211013, 29399.399122605508, 29383.387061302754, 29335.49353065138, 29150.97176532569, 28160.610882662844, 27214.030441331422, 26629.902720665712, 26377.176360332855, 26235.000680166428, 26063.500340083214, 26165.462670041605, 26206.118835020803, 26136.8969175104, 26087.748458755203}
	tnrArr := []float64{math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), 0.07752973351141611, 0.07951427562413424, 0.10431411441193686, 0.050647427015146414, 0.09428870408106993, 0.061738970813192975, 0.12138662082796169, 0.07379566527245573, 0.18504718565800352, 0.22666919575113778, 0.1930993534767121, 0.6103468233827514, 0.5634259490198023, 0.5195804538548247, 0.4193486954865726, 0.4290262172284627, 0.28046461427763575, 0.28754521963824364, 0.273847774558863, 0.36280025968405266, 0.037057048944121464, 0.36544001298332474, 0.010460517923205398, 0.07225288509784267, 0.1833212568341999, 0.09489361702127584, 0.06719203649937826, 0.21383103325355224, 0.14491570200297804, 0.10316101263479474, 0.16722270997951427, 0.21190596989683894, 0.08700669282252359, 0.2363771343726811, 0.08544613178648132, 0.1816126601356443, 0.6534119544400764, 0.9339648717239987, 0.9074927728728797, 0.8603549049549767, 0.861532437018664, 0.8665400508174406, 0.6936071626806949, 0.7618969593408387, 0.7551452711648163, 0.7270946797950252, 0.3059788980070327}
	cciArr := []float64{math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), -12.833275456261807, 19.498884187891075, 4.759811344308125, 202.2551350033539, 42.45360293945736, -55.627265766867154, -62.6816561557437, -115.74775502743907, -138.98827454210576, -94.50162987798892, -84.8053489508662, -72.6157007068114, -76.48179021130527, -0.6507838674427441, -211.19345232567184, -184.8799947681581, -97.55756102597003, -89.23347259998305, -64.37704070975254, -51.845917120439324, -63.012677106634385, -46.58182084992314, -23.120153893623563, 105.0173869846094, -129.9231288517104, -210.0369379696608, -148.57853149304532, -93.32232906261727, -89.18790884258186, 212.0071524363046, 139.95978997892288, 57.60671870572555, 26.03170803473445, 29.384797179689784, 1.8883143355597436, 10.109842133420841, -57.122272258721516, -169.31501994645254, -304.7373194668008, -184.3727566213593, -123.61246355399538, -88.44639786207007, -73.07600802773206, -70.4058459524111, -38.7416233470515, -40.69152371773337, -49.4837901144308, -50.395145608042384, -12.177478849891763}
	cmfArr := []float64{math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), -0.12181584252031072, -0.20921567796557222, -0.1407432163217932, -0.1606167698887356, -0.16871638198735464, -0.0006430150264118132, -0.02824058800445338, -0.033980490085024184, -0.0366756223155123, -0.054681172254673595, -0.0754748178168336, -0.014349927401622614, -0.132923512095976, -0.10855756643345107, -0.08926341034169538, -0.09115048122017513, -0.17930871988946753, -0.20615890925636723, -0.17757974948213354, -0.12128027921450639, -0.17090031633828873, 0.015936115375919463, -0.08705648012709566, -0.02234691911059152, -0.010775210581232346, 0.008271150288495363, 0.04362454539799709, 0.1474319757711379, 0.13931578404709696, 0.06085728746171811, 0.0672840879734632, -0.07226364101002405, 0.03465627044069683, 0.020174877483498617, 0.01856831850585744, -0.015834281931221966, -0.12086620222345189, -0.1823256927389124, -0.24328584191982225, -0.18120992888236287, -0.14111578162044697, -0.12136073662344277, -0.03301781608452909, 0.013376431824847983, -0.006395094274375962, 0.02087386951662306, 0.09314840130437799, 0.1403208892099361}
	// 和TradingView值有细微差异
	kamaArr := []float64{math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), 30368.9, 30382.45245901192, 30381.007060845663, 30380.062713697112, 30377.660828722088, 30375.05935756111, 30365.033368177676, 30359.45973096189, 30341.862647811828, 30323.662581538167, 30306.007157561173, 30262.104378846318, 30083.035726280494, 29959.597818397575, 29896.92235422193, 29825.289714369803, 29796.669294360978, 29770.824383198044, 29744.52356307028, 29702.586032250594, 29702.575582318997, 29659.45686777333, 29657.053511954702, 29650.56607877627, 29632.429651955612, 29624.192861320887, 29619.54803988579, 29624.757277793717, 29623.560373446006, 29620.67607513239, 29615.07597119265, 29607.90187760517, 29603.60211732461, 29595.72489736054, 29590.25237775826, 29563.773373320062, 28944.200390729067, 27803.6514390038, 27163.351462296923, 26828.211780901638, 26585.69518012659, 26399.623872428536, 26404.175124185454, 26338.570986942137, 26261.231444511697, 26196.39683940795, 26189.67043143915}
	williamsRArr := []float64{math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), -62.028601694915174, -50.8262711864406, -63.51165254237281, -18.815668202764943, -71.73732718894013, -72.516129032258, -75.26267281105994, -77.65315315315323, -81.81224489795925, -79.77551020408164, -84.0408163265306, -79.94285714285708, -84.34693877551021, -70.05357142857146, -79.28766443286179, -76.03003226607102, -68.17610062893081, -76.11949685534587, -70.44654088050305, -67.98113207547179, -71.32362501625286, -74.59368092575744, -36.68463315366845, -59.77816695855236, -58.262136565335446, -63.50089409894708, -66.37525663951254, -65.16987879992047, -56.7719716537519, -28.88235294117647, -39.8352941176471, -47.42941176470584, -53.230847738725494, -52.899151623397266, -61.02570644893795, -52.97569688078073, -67.6915226127448, -97.95241436499317, -64.21414711589344, -73.76227844918924, -70.72521752641393, -68.76236363280253, -69.94731378655226, -71.33791644632467, -63.99710127896272, -67.75467817800495, -68.550594474382, -66.07070490357341, -47.48374512353701}
	stochRsiArr := []float64{math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), 1.5437733514379761, 5.100519886880594, 6.312321578998301, 39.64565491233163, 36.088908376889016, 36.37768492760049, 13.36802339220264, 19.127536346364476, 28.014254359247882, 32.45357744233544, 38.129460936740635, 35.05102077537824, 53.621359227688544, 53.22215471044271, 54.42204483522622, 27.83735979428815, 19.16098052449159, 13.037637595022732, 21.340216335272512, 52.31373700708121, 72.87166805458196, 76.5480163125787, 60.652393534420355, 53.871944782973, 46.26089672615063, 46.843062254144456, 29.136403316988225, 18.01987608316882, -0.0000000000000023684757858670005, -0.0000000000000023684757858670005, 1.018521410691425, 4.121156385086379, 6.955308313768344, 8.433354702040864, 21.304579955514313, 39.42412442215086, 62.23426825382364, 70.50116653209518, 80.6417601987077}
	mfiArr := []float64{math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), 44.83682830047068, 35.68352202543356, 41.32389548759007, 38.918736695703736, 40.77193909322262, 47.489480503598344, 47.42001532218484, 40.91762121668236, 47.461625934945204, 35.98220436961509, 28.36564484572419, 30.8504090985425, 18.598432903959363, 19.4606933191007, 18.907945603398133, 28.760316191638452, 30.070393855066925, 39.559441553924735, 34.29976674526034, 38.0902900465148, 48.20793997727232, 59.93367405394973, 63.66736191460096, 68.11721468964325, 67.30578349612645, 60.73897570654667, 68.35728507836981, 56.93737410761491, 62.84548849189854, 58.65108569967536, 50.763654751939924, 39.30946559462673, 27.60016234782067, 29.795657650182406, 42.52779384660568, 40.48698285424263, 33.423575543275675, 27.802872921743713, 11.97375104041835, 12.786657064425967, 18.075886989976667, 17.892100067597056, 14.582798956752498, 24.943524590374565, 15.832672691780388, 15.568463146565193, 16.71953974963479, 25.40064399607884}
	// 和TradingView值有细微差异
	rmiArr := []float64{math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), math.NaN(), 51.00213117501981, 47.057018502107496, 45.89897494659769, 33.69745402639319, 32.3914789494132, 29.15650910588259, 26.92789732026317, 24.736791004690446, 25.655459097436804, 24.831897947615644, 30.981782686424708, 25.058185896022394, 21.497961379882753, 17.847864190598898, 18.80470359053065, 20.674456972580572, 20.749648266993844, 22.369046261419072, 21.73335708461846, 31.61775531098013, 30.426840423475355, 29.923428848249856, 23.529889852034373, 22.528148422548796, 21.58086470781967, 24.99448085265962, 43.76793831530941, 53.02441812743141, 56.85202889143902, 50.3543296268567, 47.67360855459883, 45.03920881213004, 45.12881080462167, 40.83989468504275, 32.32013848022912, 15.209117602533254, 9.168859902043039, 6.701066546433424, 6.38561548306302, 7.205742433901634, 7.163977600538587, 10.363264084929042, 11.052000862390713, 11.164531009891093, 10.33854940104706, 10.18339542952583}
	runIndCases(t, []CaseItem{
		{"sum", sumArr, func() float64 {
			return Sum(env.Close, 9).Get(0)
		}},
		{"sma", smaArr, func() float64 {
			return SMA(env.Close, 9).Get(0)
		}},
		{"vwma", vwmaArr, func() float64 {
			mid := AvgPrice(env)
			return VWMA(mid, env.Volume, 9).Get(0)
		}},
		{"ema", emaArr, func() float64 {
			return EMA(env.Close, 12).Get(0)
		}},
		{"ema2", ema2Arr, func() float64 {
			return EMABy(env.Close, 12, 1).Get(0)
		}},
		{"rma", rmaArr, func() float64 {
			return RMA(env.Close, 12).Get(0)
		}},
		{"rma2", ram2Arr, func() float64 {
			return RMABy(env.Close, 12, 1, math.NaN()).Get(0)
		}},
		{"atr", atrArr, func() float64 {
			return ATR(env.High, env.Low, env.Close, 14).Get(0)
		}},
		{"macd", macdArr, func() float64 {
			return MACD(env.Close, 12, 26, 9).Cols[0].Get(0)
		}},
		{"rsi", rsiArr, func() float64 {
			return RSI(env.Close, 14).Get(0)
		}},
		{"kdj", kdjKArr, func() float64 {
			return KDJ(env.High, env.Low, env.Close, 9, 3, 3).Cols[0].Get(0)
		}},
		{"kdj_sma", smaKdjKArr, func() float64 {
			return KDJBy(env.High, env.Low, env.Close, 9, 3, 3, "sma").Cols[0].Get(0)
		}},
		{"aroonUp", aroonUpArr, func() float64 {
			return Aroon(env.High, env.Low, 9).Cols[0].Get(0)
		}},
		{"aroonDn", aroonDnArr, func() float64 {
			return Aroon(env.High, env.Low, 9).Cols[2].Get(0)
		}},
		{"aroonOsc", aroonOscArr, func() float64 {
			return Aroon(env.High, env.Low, 9).Cols[1].Get(0)
		}},
		{"stdDev", stdDevArr, func() float64 {
			return StdDev(env.Close, 5).Cols[0].Get(0)
		}},
		{"BBands", bbandArr, func() float64 {
			return BBANDS(env.Close, 7, 2, 2).Cols[0].Get(0)
		}},
		{"TD", tdArr, func() float64 {
			return TD(env.Close).Get(0)
		}},
		{"ADX", adxArr, func() float64 {
			return ADX(env.High, env.Low, env.Close, 9).Cols[0].Get(0)
		}},
		{"ADXBy", adxByArr, func() float64 {
			return ADXBy(env.High, env.Low, env.Close, 9, 1).Cols[0].Get(0)
		}},
		{"ROC", rocArr, func() float64 {
			return ROC(env.Close, 9).Get(0)
		}},
		{"HeikinAshi", heiKenArr, func() float64 {
			return HeikinAshi(env).Cols[0].Get(0)
		}},
		{"TNR", tnrArr, func() float64 {
			return TNR(env.Close, 10).Get(0)
		}},
		{"CCI", cciArr, func() float64 {
			hlc3 := AvgPrice(env)
			return CCI(hlc3, 10).Get(0)
		}},
		{"CMF", cmfArr, func() float64 {
			return CMF(env, 10).Get(0)
		}},
		{"KAMA", kamaArr, func() float64 {
			return KAMA(env.Close, 10).Get(0)
		}},
		{"WillR", williamsRArr, func() float64 {
			return WillR(env, 10).Get(0)
		}},
		{"StochRSI", stochRsiArr, func() float64 {
			return StochRSI(env.Close, 9, 9, 3, 3).Cols[0].Get(0)
		}},
		{"MFI", mfiArr, func() float64 {
			return MFI(env, 10).Get(0)
		}},
		{"RMI", rmiArr, func() float64 {
			return RMI(env.Close, 10, 3).Get(0)
		}},
	})
}
